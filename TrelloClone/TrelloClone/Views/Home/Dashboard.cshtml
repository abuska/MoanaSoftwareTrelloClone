@using TrelloClone.Services;

@{
    ViewData["Title"] = "Dashboard";
    var list = MyAppContext.getCardList();
    list.Sort((x, y) => x.position.CompareTo(y.position));
}

<h1>Dashboard</h1>

<script>
    function detailsCardModalPopUpToggle(_id) {

        alert(_id);
        $.get("ajax/test.html", function (data) {
            $(".result").html(data);
            alert("Load was performed.");
        });
        if (document.getElementById("detailsModalwindow").style.display != "flex") {
            document.getElementById("detailsModalwindow").style.display = "flex";
        } else {
            document.getElementById("detailsModalwindow").style.display = "none";
        }
    }
</script>

<script>
    function deleteCardModalPopUpToggle(_id) {



        if (document.getElementById("deleteModalwindow").style.display != "flex") {
            document.getElementById("deleteModalwindow").style.display = "flex";
        } else {
            document.getElementById("deleteModalwindow").style.display = "none";
        }
    }
</script>

<div style="padding: 1em">
    <input type="button" name="newCardBtn" value="newCard" />
</div>

<div style=" display: flex; justify-content: space-between;">
    <div style="background-color: grey; width: 20%; padding: 1em; border-radius: 10px ">
        <h3>
            pending
        </h3>
        @foreach (Card card in list.FindAll(e => e.status == 0))
        {
            <partial name="_Card.cshtml" model="card" />
        }
    </div>

    <div style="background-color: grey; width: 20%; padding: 1em; border-radius: 10px ">
        <h3>
            In progress
        </h3>
        @foreach (Card card in list.FindAll(e => e.status == 1))
        {
            <partial name="_Card.cshtml" model="card" />
        }
    </div>
    <div style="background-color: grey; width: 20%; padding: 1em; border-radius: 10px ">
        <h3>
            Blocked
        </h3>
        @foreach (Card card in list.FindAll(e => e.status == 2))
        {
            <partial name="_Card.cshtml" model="card" />
        }
    </div>
    <div style="background-color: grey; width: 20%; padding: 1em; border-radius: 10px ">
        <h3>
            Done
        </h3>
        @foreach (Card card in list.FindAll(e => e.status == 3))
        {
            <partial name="_Card.cshtml" model="card" />
        }
    </div>

</div>



<div id="detailsModalwindow" style="display: none">


</div>
<div id="deleteModalwindow" style="display: none">this</div>